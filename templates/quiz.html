{% extends "base.html" %}

{% block title %}Quiz Modules{% endblock %}

{% block content %}
<div class="page-header">
    <h1><i class="fas fa-clipboard-question"></i> Quiz Modules</h1>
    <p>Interactive quiz system with questions across multiple categories</p>
</div>

{% if data.error %}
<div class="error-box">
    <p>{{ data.error }}</p>
</div>
{% else %}

<div class="stats-grid">
    <div class="stat-card">
        <div class="stat-icon"><i class="fas fa-question-circle"></i></div>
        <h3>Total Questions</h3>
        <p class="stat-value">{{ data.summary.total_questions }}</p>
    </div>
    <div class="stat-card">
        <div class="stat-icon"><i class="fas fa-tags"></i></div>
        <h3>Categories</h3>
        <p class="stat-value">{{ data.summary.categories_covered }}</p>
    </div>
</div>

<div class="section">
    <h2><i class="fas fa-chart-pie"></i> Category Distribution</h2>
    <div class="distribution">
        {% for category, count in data.category_distribution.items() %}
        <div class="dist-item">
            <span class="dist-label">{{ category }}:</span>
            <span class="dist-value">{{ count }} questions</span>
        </div>
        {% endfor %}
    </div>
</div>

<div class="section">
    <h2><i class="fas fa-signal"></i> Difficulty Distribution</h2>
    <div class="distribution">
        {% for difficulty, count in data.difficulty_distribution.items() %}
        <div class="dist-item">
            <span class="dist-label">{{ difficulty }}:</span>
            <span class="dist-value">{{ count }} questions</span>
        </div>
        {% endfor %}
    </div>
</div>

<div class="section">
    <h2><i class="fas fa-list"></i> All Quiz Questions</h2>
    <div class="quiz-questions">
        {% for question in data.all_questions %}
        <div class="question-card">
            <div class="question-header">
                <h3>Question {{ question.id }}</h3>
                <span class="category-badge">{{ question.category }}</span>
            </div>
            <p class="question-text">{{ question.question }}</p>
            <div class="options">
                <h4>Options:</h4>
                <ol>
                    {% for option in question.options %}
                    <li class="{% if loop.index0 == question.correct %}correct-answer{% endif %}">
                        {{ option }}
                        {% if loop.index0 == question.correct %}<span class="correct-mark"><i class="fas fa-check-circle"></i> Correct</span>{% endif %}
                    </li>
                    {% endfor %}
                </ol>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

{% endif %}
{% endblock %}

