{% extends "base.html" %}

{% block title %}Fetchmaker Dog Analysis{% endblock %}

{% block content %}
<div class="page-header">
    <h1><i class="fas fa-dog"></i> Fetchmaker Dog Data Analysis</h1>
    <p>Analyze dog breed characteristics including weight, tail length, age, and behavioral traits</p>
</div>

<div class="stats-grid">
    <div class="stat-card">
        <div class="stat-icon"><i class="fas fa-database"></i></div>
        <h3>Total Dogs</h3>
        <p class="stat-value">{{ data.total_dogs }}</p>
    </div>
    <div class="stat-card">
        <div class="stat-icon"><i class="fas fa-list"></i></div>
        <h3>Breeds Analyzed</h3>
        <p class="stat-value">{{ data.breed_stats.breeds|length }}</p>
    </div>
</div>

<div class="section">
    <h2><i class="fas fa-weight"></i> Average Weight by Breed</h2>
    <div class="chart-container">
        <canvas id="weightChart"></canvas>
    </div>
    <div class="chart-description">
        <h4><i class="fas fa-info-circle"></i> What This Chart Shows</h4>
        <p>This chart compares the average weight across different dog breeds. It helps identify which breeds are typically heavier or lighter.</p>
        
        <div class="insight-box">
            <strong>Key Insight:</strong> Different breeds have significantly different average weights, reflecting the diversity in dog sizes from small breeds like chihuahuas to large breeds like labradors.
        </div>
        
        <div class="key-takeaway">
            ðŸ’¡ <strong>Takeaway:</strong> Understanding breed characteristics helps in making informed decisions about dog care, including diet, exercise, and health monitoring.
        </div>
    </div>
</div>

<div class="section">
    <h2><i class="fas fa-ruler"></i> Average Tail Length by Breed</h2>
    <div class="chart-container">
        <canvas id="tailChart"></canvas>
    </div>
    <div class="chart-description">
        <h4><i class="fas fa-info-circle"></i> What This Chart Shows</h4>
        <p>This chart displays the average tail length for each breed. Tail length is an important physical characteristic that varies significantly between breeds.</p>
        
        <div class="insight-box">
            <strong>Key Insight:</strong> Tail length varies widely across breeds, with some breeds having very short tails and others having long, flowing tails.
        </div>
        
        <div class="key-takeaway">
            ðŸ’¡ <strong>Takeaway:</strong> Physical characteristics like tail length can be important for breed identification and understanding breed-specific traits.
        </div>
    </div>
</div>

<div class="section">
    <h2><i class="fas fa-palette"></i> Color Distribution</h2>
    <div class="chart-container">
        <canvas id="colorChart"></canvas>
    </div>
    <div class="chart-description">
        <h4><i class="fas fa-info-circle"></i> What This Chart Shows</h4>
        <p>This chart shows the distribution of coat colors across all dogs in the dataset. It helps identify the most common and rare colors.</p>
        
        <div class="insight-box">
            <strong>Key Insight:</strong> Some colors are more common than others, which may reflect breed popularity or natural color variations.
        </div>
        
        <div class="key-takeaway">
            ðŸ’¡ <strong>Takeaway:</strong> Color distribution can provide insights into breed diversity and help identify patterns in dog populations.
        </div>
    </div>
</div>

<div class="section">
    <h2><i class="fas fa-child"></i> Likes Children by Breed</h2>
    <div class="chart-container">
        <canvas id="childrenChart"></canvas>
    </div>
    <div class="chart-description">
        <h4><i class="fas fa-info-circle"></i> What This Chart Shows</h4>
        <p>This chart compares how many dogs in each breed like children versus those that don't. This behavioral trait is important for families considering dog adoption.</p>
        
        <div class="insight-box">
            <strong>Key Insight:</strong> Most breeds show a preference for children, but the ratio varies by breed. This information is valuable for matching dogs with families.
        </div>
        
        <div class="key-takeaway">
            ðŸ’¡ <strong>Takeaway:</strong> Behavioral traits like compatibility with children are crucial factors when choosing a dog breed for a family environment.
        </div>
    </div>
</div>
{% endblock %}

{% block extra_scripts %}
<script>
    const breedData = {{ data.breed_stats|tojson }};
    const colorData = {{ data.color_distribution|tojson }};
    const childrenData = {{ data.children_preference|tojson }};
    
    // Weight by breed chart
    const ctx1 = document.getElementById('weightChart').getContext('2d');
    const weightChart = new Chart(ctx1, {
        type: 'bar',
        data: {
            labels: breedData.breeds,
            datasets: [{
                label: 'Average Weight',
                data: Object.values(breedData.avg_weight),
                backgroundColor: 'rgba(102, 126, 234, 0.6)'
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: true,
            scales: {
                y: { beginAtZero: true, title: { display: true, text: 'Weight' } }
            }
        }
    });
    
    // Tail length by breed chart
    const ctx2 = document.getElementById('tailChart').getContext('2d');
    const tailChart = new Chart(ctx2, {
        type: 'bar',
        data: {
            labels: breedData.breeds,
            datasets: [{
                label: 'Average Tail Length',
                data: Object.values(breedData.avg_tail_length),
                backgroundColor: 'rgba(255, 99, 132, 0.6)'
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: true,
            scales: {
                y: { beginAtZero: true, title: { display: true, text: 'Tail Length' } }
            }
        }
    });
    
    // Color distribution chart
    const ctx3 = document.getElementById('colorChart').getContext('2d');
    const colorChart = new Chart(ctx3, {
        type: 'pie',
        data: {
            labels: Object.keys(colorData),
            datasets: [{
                data: Object.values(colorData),
                backgroundColor: [
                    'rgba(102, 126, 234, 0.6)',
                    'rgba(255, 99, 132, 0.6)',
                    'rgba(255, 206, 86, 0.6)',
                    'rgba(75, 192, 192, 0.6)',
                    'rgba(153, 102, 255, 0.6)'
                ]
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: true
        }
    });
    
    // Likes children chart
    const ctx4 = document.getElementById('childrenChart').getContext('2d');
    const childrenChart = new Chart(ctx4, {
        type: 'bar',
        data: {
            labels: Object.keys(childrenData),
            datasets: [{
                label: 'Does Not Like Children',
                data: Object.values(childrenData).map(d => d.does_not_like),
                backgroundColor: 'rgba(255, 99, 132, 0.6)'
            }, {
                label: 'Likes Children',
                data: Object.values(childrenData).map(d => d.likes),
                backgroundColor: 'rgba(75, 192, 192, 0.6)'
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: true,
            scales: {
                y: { beginAtZero: true, title: { display: true, text: 'Number of Dogs' } }
            }
        }
    });
</script>
{% endblock %}

